<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="StudyMateTest.Views.ReminderPage"
             Title="Напоминания"
             BackgroundColor="{DynamicResource PageBackgroundColor}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Заголовок и кнопка добавления -->
        <Border Grid.Row="0" 
                BackgroundColor="{DynamicResource Primary}"
                Padding="20,15">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <StackLayout Grid.Column="0">
                    <Label Text="Мои напоминания" 
                           FontSize="24" 
                           FontAttributes="Bold"
                           TextColor="White" />
                    <Label x:Name="CountLabel"
                           Text="0 активных напоминаний" 
                           FontSize="14" 
                           TextColor="White"
                           Opacity="0.8" />
                </StackLayout>

                <Button Grid.Column="1"
                        x:Name="AddReminderBtn"
                        Text="+"
                        FontSize="24"
                        FontAttributes="Bold"
                        BackgroundColor="White"
                        TextColor="{DynamicResource Primary}"
                        WidthRequest="50"
                        HeightRequest="50"
                        Clicked="OnAddReminderClicked" />
            </Grid>
        </Border>

        <!-- Список напоминаний -->
        <ScrollView Grid.Row="1" Padding="0">
            <StackLayout x:Name="RemindersContainer" Spacing="0">

                <!-- Сообщение когда нет напоминаний -->
                <StackLayout x:Name="EmptyState" 
                            IsVisible="True"
                            Padding="40"
                            VerticalOptions="CenterAndExpand">

                    <Label Text="📅" 
                           FontSize="60" 
                           HorizontalOptions="Center" 
                           Margin="0,0,0,20" />

                    <Label Text="Нет активных напоминаний" 
                           FontSize="18" 
                           FontAttributes="Bold"
                           HorizontalOptions="Center" 
                           TextColor="{DynamicResource Gray600}" />

                    <Label Text="Нажмите + чтобы создать первое напоминание" 
                           FontSize="14" 
                           HorizontalOptions="Center" 
                           TextColor="{DynamicResource Gray400}" 
                           Margin="0,10,0,0" />
                </StackLayout>

                <!-- Контейнер для карточек напоминаний -->
                <StackLayout x:Name="RemindersList" 
                            Spacing="10" 
                            Padding="15"
                            IsVisible="False">
                </StackLayout>

            </StackLayout>
        </ScrollView>

        <!-- Нижняя панель с действиями -->
        <Border Grid.Row="2" 
                BackgroundColor="{DynamicResource Gray100}"
                Padding="20,15">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0"
                        x:Name="RefreshBtn"
                        Text="🔄 Обновить"
                        BackgroundColor="Transparent"
                        TextColor="{DynamicResource Primary}"
                        BorderColor="{DynamicResource Primary}"
                        BorderWidth="1"
                        Margin="0,0,5,0"
                        Clicked="OnRefreshClicked" />

                <Button Grid.Column="1"
                        x:Name="ClearAllBtn"
                        Text="🗑️ Очистить все"
                        BackgroundColor="Transparent"
                        TextColor="{DynamicResource Danger}"
                        BorderColor="{DynamicResource Danger}"
                        BorderWidth="1"
                        Margin="5,0,0,0"
                        Clicked="OnClearAllClicked" />
            </Grid>
        </Border>

    </Grid>
</ContentPage>