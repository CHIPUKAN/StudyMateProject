<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="StudyMateProject.Views.SettingsPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Настройки">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">
            <Label Text="Настройки приложения" FontSize="24" FontAttributes="Bold" HorizontalOptions="Center" Margin="0,0,0,20" />

            <!-- Theme Selection -->
            <Label Text="Тема" FontAttributes="Bold" />
            <HorizontalStackLayout Spacing="20">
                <RadioButton x:Name="LightThemeRadio" Content="Светлая" GroupName="Theme" IsChecked="True" CheckedChanged="OnThemeChanged" />
                <RadioButton x:Name="DarkThemeRadio" Content="Темная" GroupName="Theme" CheckedChanged="OnThemeChanged" />
                <RadioButton x:Name="SystemThemeRadio" Content="Системная" GroupName="Theme" CheckedChanged="OnThemeChanged" />
            </HorizontalStackLayout>

            <!-- Language Selection -->
            <Label Text="Язык" FontAttributes="Bold" />
            <Picker x:Name="LanguagePicker" Title="Выберите язык" SelectedIndexChanged="OnLanguageChanged">
                <Picker.ItemsSource>
                    <x:Array Type="{x:Type x:String}">
                        <x:String>Русский</x:String>
                        <x:String>English</x:String>
                        <x:String>Español</x:String>
                        <x:String>Français</x:String>
                        <x:String>Deutsch</x:String>
                    </x:Array>
                </Picker.ItemsSource>
            </Picker>

            <!-- Auto-save Settings -->
            <Label Text="Автосохранение" FontAttributes="Bold" />
            <HorizontalStackLayout>
                <CheckBox x:Name="AutosaveCheckBox" IsChecked="True" CheckedChanged="OnAutosaveChanged" />
                <Label Text="Включить автосохранение" VerticalOptions="Center" />
            </HorizontalStackLayout>

            <HorizontalStackLayout Spacing="10">
                <Label Text="Интервал автосохранения (секунды):" VerticalOptions="Center" />
                <Entry x:Name="AutosaveIntervalEntry" Text="60" Keyboard="Numeric" WidthRequest="60" TextChanged="OnAutosaveIntervalChanged" />
            </HorizontalStackLayout>

            <!-- About Section -->
            <BoxView HeightRequest="1" BackgroundColor="{DynamicResource Gray300}" Margin="0,20" />

            <Label Text="О приложении" FontSize="20" FontAttributes="Bold" />
            <Label Text="StudyMate" FontSize="18" />
            <Label Text="Версия 1.0.0" FontSize="14" TextColor="Gray" />
            <Label Text="© 2024 StudyMate Team. Все права защищены." FontSize="12" TextColor="Gray" />

            <Label Text="StudyMate - это приложение, разработанное для удобного создания и редактирования текстовых и графических заметок, а также упрощения процесса конспектирования учебного или рабочего материала." 
                 FontSize="14" 
                 Margin="0,10,0,0" />

            <!-- Storage Info -->
            <BoxView HeightRequest="1" BackgroundColor="{DynamicResource Gray300}" Margin="0,20" />

            <Label Text="Хранилище" FontSize="20" FontAttributes="Bold" />
            <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto" ColumnSpacing="10" RowSpacing="5">
                <Label Grid.Row="0" Grid.Column="0" Text="Заметки:" FontAttributes="Bold" />
                <Label Grid.Row="0" Grid.Column="1" x:Name="NotesCountLabel" Text="0" />

                <Label Grid.Row="1" Grid.Column="0" Text="Напоминания:" FontAttributes="Bold" />
                <Label Grid.Row="1" Grid.Column="1" x:Name="RemindersCountLabel" Text="0" />

                <Label Grid.Row="2" Grid.Column="0" Text="Использовано места:" FontAttributes="Bold" />
                <Label Grid.Row="2" Grid.Column="1" x:Name="StorageUsedLabel" Text="0 КБ" />
            </Grid>

            <Button Text="Очистить все данные" BackgroundColor="{DynamicResource Danger}" TextColor="White" Clicked="OnClearDataClicked" Margin="0,20,0,0" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>